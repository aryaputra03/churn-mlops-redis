# Environment Variables Configuration

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Security
SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Database
DATABASE_URL=sqlite:///./churn_predictions.db
# DATABASE_URL=postgresql://churn_user:churn_password@localhost:5432/churn_db

# Redis (for distributed rate limiting)
REDIS_URL=redis://localhost:6379/0

# Rate Limiting
RATE_LIMIT_ENABLED=true
DEFAULT_RATE_LIMIT=100/hour

# DVC
DVC_REMOTE_URL=s3://my-bucket/dvc-storage
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Model
MODEL_PATH=models/churn_model.pkl

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/api.log

# CORS
CORS_ORIGINS=*
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Email (for password reset - optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
```

---

## ðŸ“¦ File 12: Makefile (Update - Add Auth Commands)
```makefile
# Add to existing Makefile

# Authentication & Security
create-admin:  ## Create admin user
	python -c "from src.api.database import get_db; from src.api import crud; db = next(get_db()); crud.create_user(db, username='admin', email='admin@example.com', password='Admin123!', role='admin'); print('âœ… Admin user created')"

create-user:  ## Create regular user (interactive)
	@read -p "Username: " username; \
	read -p "Email: " email; \
	read -sp "Password: " password; \
	echo ""; \
	python -c "from src.api.database import get_db; from src.api import crud; db = next(get_db()); crud.create_user(db, username='$username', email='$email', password='$password'); print('âœ… User created')"

test-auth:  ## Test authentication endpoints
	pytest tests/test_auth.py -v

test-rate-limit:  ## Test rate limiting
	pytest tests/test_rate_limit.py -v

redis-start:  ## Start Redis for rate limiting
	docker run -d --name churn-redis -p 6379:6379 redis:7-alpine

redis-stop:  ## Stop Redis
	docker stop churn-redis && docker rm churn-redis

redis-cli:  ## Connect to Redis CLI
	docker exec -it churn-redis redis-cli

generate-secret:  ## Generate secure secret key
	python -c "import secrets; print('SECRET_KEY=' + secrets.token_urlsafe(32))"